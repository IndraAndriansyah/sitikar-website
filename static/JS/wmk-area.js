
 // List of GeoJSON URLs with styles
 var geojsonLayers = [
  //MAKO
  {
    //ANTAPANI
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273141_antapani.geojson',
      color: '#db356c',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //LENGKONG
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273070_lengkong.geojson',
      color: '#db356c',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //MADALAJATI
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273142_mandalajati.geojson',
      color: '#db356c',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //BATUNUNGGAL
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273160_batununggal.geojson',
      color: '#db356c',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //KIARA CONDONG
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273150_kiaracondong.geojson',
      color: '#db356c',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //SUMUR BANDUNG
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273170_sumur_bandung.geojson',
      color: '#db356c',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //CIBEUNYING KALER
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273220_cibeunying_kaler.geojson',
      color: '#db356c',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //CIBEUNYING KIDUL
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273210_cibeunying_kidul.geojson',
      color: '#db356c',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //BANDUNG WETAN
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273200_bandung_wetan.geojson',
      color: '#db356c',
      opacity: 0.5,
      outlineColor: 'black'
  },
  //UPT TIMUR
  {
    //CINAMBO
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273121_cinambo.geojson',
      color: '#4fe540',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //UJUNG BERUNG
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273120_ujung_berung.geojson',
      color: '#4fe540',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //PANYILEUKAN
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273111_panyileukan.geojson',
      color: '#4fe540',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //RANCASARI
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273100_rancasari.geojson',
      color: '#4fe540',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //GEDEBAGE
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273101_gedebage.geojson',
      color: '#4fe540',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //CIBIRU
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273110_cibiru.geojson',
      color: '#4fe540',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //BUAH BATU
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273090_buahbatu.geojson',
      color: '#4fe540',
      opacity: 0.5,
      outlineColor: 'black'
  },
  {
    //ARCAMANIK
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273130_arcamanik.geojson',
      color: '#4fe540',
      opacity: 0.5,
      outlineColor: 'black'
  },
  //UPT BARAT
  {
    //BANDUNG KULON
      url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273010_bandung_kulon.geojson',
      color: '#356cdb',
      opacity: 0.6,
      outlineColor: 'black'
  },
  {
    //BOJONGLOA KALER
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273030_bojongloa_kaler.geojson',
    color: '#356cdb',
    opacity: 0.6,
    outlineColor: 'black'
  },
  {
    //CICENDO
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273190_cicendo.geojson',
    color: '#356cdb',
    opacity: 0.6,
    outlineColor: 'black'
  },
  {
    //ANDIR
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273180_andir.geojson',
    color: '#356cdb',
    opacity: 0.6,
    outlineColor: 'black'
  },
  //UPT UTARA
  {
    //SUKAJADI
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273240_sukajadi.geojson',
    color: '#ebf11c',
    opacity: 0.6,
    outlineColor: 'black'
  },
  {
    //COBLONG
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273230_coblong.geojson',
    color: '#ebf11c',
    opacity: 0.6,
    outlineColor: 'black'
  },
  {
    //SUKASARI
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273250_sukasari.geojson',
    color: '#ebf11c',
    opacity: 0.6,
    outlineColor: 'black'
  },
  {
    //CIDADAP
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273260_cidadap.geojson',
    color: '#ebf11c',
    opacity: 0.6,
    outlineColor: 'black'
  },
  //UPT SELATAN
  {
    //REGOL
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273060_regol.geojson',
    color: '#fb840d',
    opacity: 0.6,
    outlineColor: 'black'
  },
  {
    //BABAKAN CIPARAY
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273020_babakan_ciparay.geojson',
    color: '#fb840d',
    opacity: 0.6,
    outlineColor: 'black'
  },
  {
    //BOJONGLOA KIDUL
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273040_bojongloa_kidul.geojson',
    color: '#fb840d',
    opacity: 0.6,
    outlineColor: 'black'
  },
  {
    //ASTANA ANYAR
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273050_astanaanyar.geojson',
    color: '#fb840d',
    opacity: 0.6,
    outlineColor: 'black'
  },
  {
    //BANDUNG KIDUL
    url: 'https://raw.githubusercontent.com/JfrAziz/indonesia-district/master/id32_jawa_barat/id3273_kota_bandung/id3273080_bandung_kidul.geojson',
    color: '#fb840d',
    opacity: 0.6,
    outlineColor: 'black'
  }
];

var layersAdded = false;

    function addGeoJsonLayer(layer, layerId) {
      fetch(layer.url)
        .then(response => response.json())
        .then(data => {
          if (!map.getSource(layerId)) {
            map.addLayer({
              'id': layerId,
              'type': 'fill',
              'source': {
                'type': 'geojson',
                'data': data
              },
              'layout': {},
              'paint': {
                'fill-color': layer.color,
                'fill-opacity': layer.opacity,
                'fill-outline-color': layer.outlineColor
              }
            });
          }
        })
        .catch(error => console.error('Error fetching GeoJSON data:', error));
    }

    function areaShow() {
      if (!layersAdded) {
        geojsonLayers.forEach((layer, index) => {
          addGeoJsonLayer(layer, 'overlay' + index);
        });
        layersAdded = true;
      }
    }

    function removeArea() {
      if (layersAdded) {
        geojsonLayers.forEach((layer, index) => {
          var layerId = 'overlay' + index;
          if (map.getLayer(layerId)) {
            map.removeLayer(layerId);
          }
          if (map.getSource(layerId)) {
            map.removeSource(layerId);
          }
        });
        layersAdded = false;
      }
    }

    map.on('load', function() {
      var uptToggle = document.getElementById('upt-toggle');

      uptToggle.addEventListener('change', function(event) {
        if (event.target.checked) {
          areaShow();
        } else {
          removeArea();
        }
      });
    });